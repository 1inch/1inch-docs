"use strict";(self.webpackChunk_1_inch_docs=self.webpackChunk_1_inch_docs||[]).push([[1821],{3905:(e,n,t)=>{t.d(n,{Zo:()=>c,kt:()=>m});var r=t(67294);function o(e,n,t){return n in e?Object.defineProperty(e,n,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[n]=t,e}function s(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n&&(r=r.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),t.push.apply(t,r)}return t}function a(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?s(Object(t),!0).forEach((function(n){o(e,n,t[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):s(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}))}return e}function l(e,n){if(null==e)return{};var t,r,o=function(e,n){if(null==e)return{};var t,r,o={},s=Object.keys(e);for(r=0;r<s.length;r++)t=s[r],n.indexOf(t)>=0||(o[t]=e[t]);return o}(e,n);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(r=0;r<s.length;r++)t=s[r],n.indexOf(t)>=0||Object.prototype.propertyIsEnumerable.call(e,t)&&(o[t]=e[t])}return o}var i=r.createContext({}),p=function(e){var n=r.useContext(i),t=n;return e&&(t="function"==typeof e?e(n):a(a({},n),e)),t},c=function(e){var n=p(e.components);return r.createElement(i.Provider,{value:n},e.children)},u="mdxType",k={inlineCode:"code",wrapper:function(e){var n=e.children;return r.createElement(r.Fragment,{},n)}},d=r.forwardRef((function(e,n){var t=e.components,o=e.mdxType,s=e.originalType,i=e.parentName,c=l(e,["components","mdxType","originalType","parentName"]),u=p(t),d=o,m=u["".concat(i,".").concat(d)]||u[d]||k[d]||s;return t?r.createElement(m,a(a({ref:n},c),{},{components:t})):r.createElement(m,a({ref:n},c))}));function m(e,n){var t=arguments,o=n&&n.mdxType;if("string"==typeof e||o){var s=t.length,a=new Array(s);a[0]=d;var l={};for(var i in n)hasOwnProperty.call(n,i)&&(l[i]=n[i]);l.originalType=e,l[u]="string"==typeof e?e:o,a[1]=l;for(var p=2;p<s;p++)a[p]=t[p];return r.createElement.apply(null,a)}return r.createElement.apply(null,t)}d.displayName="MDXCreateElement"},31891:(e,n,t)=>{t.r(n),t.d(n,{assets:()=>i,contentTitle:()=>a,default:()=>k,frontMatter:()=>s,metadata:()=>l,toc:()=>p});var r=t(87462),o=(t(67294),t(3905));const s={sidebar_label:"WebSocket API",sidebar_position:3,title:"WebSocket API"},a="Websocket Api",l={unversionedId:"fusion-swap/fusion-sdk/for-resolvers/websocket-api",id:"fusion-swap/fusion-sdk/for-resolvers/websocket-api",title:"WebSocket API",description:"Description: provides high level functionality to working with fusion mode",source:"@site/docs/fusion-swap/fusion-sdk/for-resolvers/websocket-api.md",sourceDirName:"fusion-swap/fusion-sdk/for-resolvers",slug:"/fusion-swap/fusion-sdk/for-resolvers/websocket-api",permalink:"/docs/fusion-swap/fusion-sdk/for-resolvers/websocket-api",draft:!1,editUrl:"https://github.com/1inch/1inch-docs/edit/master/docs/fusion-swap/fusion-sdk/for-resolvers/websocket-api.md",tags:[],version:"current",sidebarPosition:3,frontMatter:{sidebar_label:"WebSocket API",sidebar_position:3,title:"WebSocket API"},sidebar:"tutorialSidebar",previous:{title:"Auction Suffix",permalink:"/docs/fusion-swap/fusion-sdk/for-resolvers/auction-suffix"},next:{title:"Introduction",permalink:"/docs/limit-order-protocol/introduction"}},i={},p=[{value:"Real world example",id:"real-world-example",level:2},{value:"Creation",id:"creation",level:2},{value:"Methods",id:"methods",level:2},{value:"on",id:"on",level:3},{value:"off",id:"off",level:3},{value:"onOpen",id:"onopen",level:3},{value:"send",id:"send",level:3},{value:"close",id:"close",level:3},{value:"onMessage",id:"onmessage",level:3},{value:"onClose",id:"onclose",level:3},{value:"onError",id:"onerror",level:3},{value:"onOrder",id:"onorder",level:3},{value:"onOrderCreated",id:"onordercreated",level:3},{value:"onOrderInvalid",id:"onorderinvalid",level:3},{value:"onOrderBalanceOrAllowanceChange",id:"onorderbalanceorallowancechange",level:3},{value:"onOrderFilled",id:"onorderfilled",level:3},{value:"onOrderFilledPartially",id:"onorderfilledpartially",level:3},{value:"onPong",id:"onpong",level:3},{value:"ping",id:"ping",level:3},{value:"getAllowedMethods",id:"getallowedmethods",level:3},{value:"onGetAllowedMethods",id:"ongetallowedmethods",level:3},{value:"getActiveOrders",id:"getactiveorders",level:3},{value:"onGetActiveOrders",id:"ongetactiveorders",level:3},{value:"Types",id:"types",level:2},{value:"OrderEventType",id:"ordereventtype",level:3},{value:"RpcMethod",id:"rpcmethod",level:3}],c={toc:p},u="wrapper";function k(e){let{components:n,...t}=e;return(0,o.kt)(u,(0,r.Z)({},c,t,{components:n,mdxType:"MDXLayout"}),(0,o.kt)("h1",{id:"websocket-api"},"Websocket Api"),(0,o.kt)("p",null,(0,o.kt)("strong",{parentName:"p"},"Description:")," provides high level functionality to working with fusion mode"),(0,o.kt)("h2",{id:"real-world-example"},"Real world example"),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-typescript"},"import {WebSocketApi, NetworkEnum} from '@1inch/fusion-sdk'\n\nconst ws = new WebSocketApi({\n    url: 'wss://fusion.1inch.io/ws',\n    network: NetworkEnum.ETHEREUM\n})\n\nwsSdk.order.onOrder((data) => {\n    console.log('received order event', data)\n})\n")),(0,o.kt)("h2",{id:"creation"},"Creation"),(0,o.kt)("p",null,(0,o.kt)("strong",{parentName:"p"},"With constructor:")),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-typescript"},"import {WebSocketApi, NetworkEnum} from '@1inch/fusion-sdk'\n\nconst ws = new WebSocketApi({\n    url: 'wss://fusion.1inch.io/ws',\n    network: NetworkEnum.ETHEREUM\n})\n")),(0,o.kt)("p",null,(0,o.kt)("strong",{parentName:"p"},"Custom provider:")),(0,o.kt)("p",null,"User can provide custom provider for websocket (be default we are using ",(0,o.kt)("a",{parentName:"p",href:"https://www.npmjs.com/package/ws"},"ws library"),")"),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-typescript"},"import {WsProviderConnector, WebSocketApi} from '@1inch/fusion-sdk'\n\nclass MyFancyProvider implements WsProviderConnector {\n    // ... user implementation\n}\n\nconst url = 'wss://fusion.1inch.io/ws/v1.0/1'\nconst provider = new MyFancyProvider({url})\n\nconst wsSdk = new WebSocketApi(provider)\n")),(0,o.kt)("p",null,(0,o.kt)("strong",{parentName:"p"},"With new static method:")),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-typescript"},"import {WebSocketApi, NetworkEnum} from '@1inch/fusion-sdk'\n\nconst ws = WebSocketApi.new({\n    url: 'wss://fusion.1inch.io/ws',\n    network: NetworkEnum.ETHEREUM\n})\n")),(0,o.kt)("p",null,(0,o.kt)("strong",{parentName:"p"},"Lazy initialization:")),(0,o.kt)("p",null,"By default when user creates an instance of WebSocketApi, it automatically opens websocket connection which might be a problem for some use cases"),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-typescript"},"import {WebSocketApi, NetworkEnum} from '@1inch/fusion-sdk'\n\nconst ws = new WebSocketApi({\n    url: 'wss://fusion.1inch.io/ws',\n    network: NetworkEnum.ETHEREUM,\n    lazyInit: true\n})\n\nws.init()\n")),(0,o.kt)("h2",{id:"methods"},"Methods"),(0,o.kt)("p",null,(0,o.kt)("strong",{parentName:"p"},"Base methods")),(0,o.kt)("h3",{id:"on"},"on"),(0,o.kt)("p",null,(0,o.kt)("strong",{parentName:"p"},"Description"),": You can subscribe to any event"),(0,o.kt)("p",null,(0,o.kt)("strong",{parentName:"p"},"Arguments"),":"),(0,o.kt)("ul",null,(0,o.kt)("li",{parentName:"ul"},"[0]"," event: string"),(0,o.kt)("li",{parentName:"ul"},"[1]"," cb: Function")),(0,o.kt)("p",null,(0,o.kt)("strong",{parentName:"p"},"Example:")),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-typescript"},"import {WebSocketApi, NetworkEnum} from '@1inch/fusion-sdk'\n\nconst ws = new WebSocketApi({\n    url: 'wss://fusion.1inch.io/ws',\n    network: NetworkEnum.ETHEREUM\n})\n\nws.on('error', console.error)\n\nws.on('open', function open() {\n    ws.send('something')\n})\n\nws.on('message', function message(data) {\n    console.log('received: %s', data)\n})\n")),(0,o.kt)("h3",{id:"off"},"off"),(0,o.kt)("p",null,(0,o.kt)("strong",{parentName:"p"},"Description"),": You can unsubscribe from any event"),(0,o.kt)("p",null,(0,o.kt)("strong",{parentName:"p"},"Arguments"),":"),(0,o.kt)("ul",null,(0,o.kt)("li",{parentName:"ul"},"[0]"," event: string"),(0,o.kt)("li",{parentName:"ul"},"[1]"," \u0441b: Function")),(0,o.kt)("p",null,(0,o.kt)("strong",{parentName:"p"},"Example:")),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-typescript"},"import {WebSocketApi, NetworkEnum} from '@1inch/fusion-sdk'\n\nconst ws = new WebSocketApi({\n    url: 'wss://fusion.1inch.io/ws',\n    network: NetworkEnum.ETHEREUM\n})\n\nws.on('error', console.error)\n\nws.on('open', function open() {\n    ws.send('something')\n})\n\nfunction message(data) {\n    console.log('received: %s', data)\n}\n\nws.on('message', message)\n\nws.off('message', message)\n")),(0,o.kt)("h3",{id:"onopen"},"onOpen"),(0,o.kt)("p",null,(0,o.kt)("strong",{parentName:"p"},"Description"),": subscribe to open event"),(0,o.kt)("p",null,(0,o.kt)("strong",{parentName:"p"},"Arguments"),":"),(0,o.kt)("ul",null,(0,o.kt)("li",{parentName:"ul"},"[0]"," cb: Function")),(0,o.kt)("p",null,(0,o.kt)("strong",{parentName:"p"},"Example:")),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-typescript"},"import {WebSocketApi, NetworkEnum} from '@1inch/fusion-sdk'\n\nconst ws = new WebSocketApi({\n    url: 'wss://fusion.1inch.io/ws',\n    network: NetworkEnum.ETHEREUM\n})\n\nws.onOpen(() => {\n    console.log('connection is opened')\n})\n")),(0,o.kt)("h3",{id:"send"},"send"),(0,o.kt)("p",null,(0,o.kt)("strong",{parentName:"p"},"Description"),": send event to backend"),(0,o.kt)("p",null,(0,o.kt)("strong",{parentName:"p"},"Arguments"),":"),(0,o.kt)("ul",null,(0,o.kt)("li",{parentName:"ul"},"[0]"," message: any message which can be serialized with JSON.stringify")),(0,o.kt)("p",null,(0,o.kt)("strong",{parentName:"p"},"Example:")),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-typescript"},"import {WebSocketApi, NetworkEnum} from '@1inch/fusion-sdk'\n\nconst ws = new WebSocketApi({\n    url: 'wss://fusion.1inch.io/ws',\n    network: NetworkEnum.ETHEREUM\n})\n\nws.send('my message')\n")),(0,o.kt)("h3",{id:"close"},"close"),(0,o.kt)("p",null,(0,o.kt)("strong",{parentName:"p"},"Description"),": close connection"),(0,o.kt)("p",null,(0,o.kt)("strong",{parentName:"p"},"Example:")),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-typescript"},"import {WebSocketApi, NetworkEnum} from '@1inch/fusion-sdk'\n\nconst ws = new WebSocketApi({\n    url: 'wss://fusion.1inch.io/ws',\n    network: NetworkEnum.ETHEREUM\n})\n\nws.close()\n")),(0,o.kt)("h3",{id:"onmessage"},"onMessage"),(0,o.kt)("p",null,(0,o.kt)("strong",{parentName:"p"},"Description"),": subscribe to message event"),(0,o.kt)("p",null,(0,o.kt)("strong",{parentName:"p"},"Arguments"),":"),(0,o.kt)("ul",null,(0,o.kt)("li",{parentName:"ul"},"[0]"," cb: (data: any) => void")),(0,o.kt)("p",null,(0,o.kt)("strong",{parentName:"p"},"Example:")),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-typescript"},"import {WebSocketApi, NetworkEnum} from '@1inch/fusion-sdk'\n\nconst ws = new WebSocketApi({\n    url: 'wss://fusion.1inch.io/ws',\n    network: NetworkEnum.ETHEREUM\n})\n\nws.onMessage((data) => {\n    console.log('message received', data)\n})\n")),(0,o.kt)("h3",{id:"onclose"},"onClose"),(0,o.kt)("p",null,(0,o.kt)("strong",{parentName:"p"},"Description"),": subscribe to close event"),(0,o.kt)("p",null,(0,o.kt)("strong",{parentName:"p"},"Example:")),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-typescript"},"import {WebSocketApi, NetworkEnum} from '@1inch/fusion-sdk'\n\nconst ws = new WebSocketApi({\n    url: 'wss://fusion.1inch.io/ws',\n    network: NetworkEnum.ETHEREUM\n})\n\nws.onClose(() => {\n    console.log('connection is closed')\n})\n")),(0,o.kt)("h3",{id:"onerror"},"onError"),(0,o.kt)("p",null,(0,o.kt)("strong",{parentName:"p"},"Description"),": subscribe to error event"),(0,o.kt)("p",null,(0,o.kt)("strong",{parentName:"p"},"Arguments"),":"),(0,o.kt)("ul",null,(0,o.kt)("li",{parentName:"ul"},"[0]"," cb: (error: any) => void")),(0,o.kt)("p",null,(0,o.kt)("strong",{parentName:"p"},"Example:")),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-typescript"},"import {WebSocketApi, NetworkEnum} from '@1inch/fusion-sdk'\n\nconst ws = new WebSocketApi({\n    url: 'wss://fusion.1inch.io/ws',\n    network: NetworkEnum.ETHEREUM\n})\n\nws.onError((error) => {\n    console.log('error is received', error)\n})\n")),(0,o.kt)("p",null,(0,o.kt)("strong",{parentName:"p"},"Order namespace")),(0,o.kt)("h3",{id:"onorder"},"onOrder"),(0,o.kt)("p",null,(0,o.kt)("strong",{parentName:"p"},"Description:")," subscribe to order events"),(0,o.kt)("p",null,(0,o.kt)("strong",{parentName:"p"},"Arguments:")),(0,o.kt)("ul",null,(0,o.kt)("li",{parentName:"ul"},"[0]"," cb: (data: OrderEventType) => void")),(0,o.kt)("p",null,(0,o.kt)("strong",{parentName:"p"},"Example:")),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-typescript"},"import {WebSocketApi, NetworkEnum} from '@1inch/fusion-sdk'\n\nconst ws = new WebSocketApi({\n    url: 'wss://fusion.1inch.io/ws',\n    network: NetworkEnum.ETHEREUM\n})\n\nws.order.onOrder((data) => {\n    if (data.event === 'order_created') {\n        // do something\n    }\n    if (data.event === 'order_invalid') {\n        // do something\n    }\n})\n")),(0,o.kt)("h3",{id:"onordercreated"},"onOrderCreated"),(0,o.kt)("p",null,(0,o.kt)("strong",{parentName:"p"},"Description:")," subscribe to order_created events"),(0,o.kt)("p",null,(0,o.kt)("strong",{parentName:"p"},"Arguments:")),(0,o.kt)("ul",null,(0,o.kt)("li",{parentName:"ul"},"[0]"," cb: (data: OrderCreatedEvent) => void")),(0,o.kt)("p",null,(0,o.kt)("strong",{parentName:"p"},"Example:")),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-typescript"},"import {WebSocketApi, NetworkEnum} from '@1inch/fusion-sdk'\n\nconst ws = new WebSocketApi({\n    url: 'wss://fusion.1inch.io/ws',\n    network: NetworkEnum.ETHEREUM\n})\n\nws.order.onOrderCreated((data) => {\n    // do something\n})\n")),(0,o.kt)("h3",{id:"onorderinvalid"},"onOrderInvalid"),(0,o.kt)("p",null,(0,o.kt)("strong",{parentName:"p"},"Description:")," subscribe to order_invalid events"),(0,o.kt)("p",null,(0,o.kt)("strong",{parentName:"p"},"Arguments:")),(0,o.kt)("ul",null,(0,o.kt)("li",{parentName:"ul"},"[0]"," cb: (data: OrderInvalidEvent) => void")),(0,o.kt)("p",null,(0,o.kt)("strong",{parentName:"p"},"Example:")),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-typescript"},"import {WebSocketApi, NetworkEnum} from '@1inch/fusion-sdk'\n\nconst ws = new WebSocketApi({\n    url: 'wss://fusion.1inch.io/ws',\n    network: NetworkEnum.ETHEREUM\n})\n\nws.order.onOrderInvalid((data) => {\n    // do something\n})\n")),(0,o.kt)("h3",{id:"onorderbalanceorallowancechange"},"onOrderBalanceOrAllowanceChange"),(0,o.kt)("p",null,(0,o.kt)("strong",{parentName:"p"},"Description:")," subscribe to order_balance_or_allowance_change events"),(0,o.kt)("p",null,(0,o.kt)("strong",{parentName:"p"},"Arguments:")),(0,o.kt)("ul",null,(0,o.kt)("li",{parentName:"ul"},"[0]"," cb: (data: OrderBalanceOrAllowanceChangeEvent) => void")),(0,o.kt)("p",null,(0,o.kt)("strong",{parentName:"p"},"Example:")),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-typescript"},"import {WebSocketApi, NetworkEnum} from '@1inch/fusion-sdk'\n\nconst ws = new WebSocketApi({\n    url: 'wss://fusion.1inch.io/ws',\n    network: NetworkEnum.ETHEREUM\n})\n\nws.order.onOrderBalanceOrAllowanceChange((data) => {\n    // do something\n})\n")),(0,o.kt)("h3",{id:"onorderfilled"},"onOrderFilled"),(0,o.kt)("p",null,(0,o.kt)("strong",{parentName:"p"},"Description:")," subscribe to order_filled events"),(0,o.kt)("p",null,(0,o.kt)("strong",{parentName:"p"},"Arguments:")),(0,o.kt)("ul",null,(0,o.kt)("li",{parentName:"ul"},"[0]"," cb: (data: OrderFilledEvent) => void")),(0,o.kt)("p",null,(0,o.kt)("strong",{parentName:"p"},"Example:")),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-typescript"},"import {WebSocketApi, NetworkEnum} from '@1inch/fusion-sdk'\n\nconst ws = new WebSocketApi({\n    url: 'wss://fusion.1inch.io/ws',\n    network: NetworkEnum.ETHEREUM\n})\n\nws.order.onOrderFilled((data) => {\n    // do something\n})\n")),(0,o.kt)("h3",{id:"onorderfilledpartially"},"onOrderFilledPartially"),(0,o.kt)("p",null,(0,o.kt)("strong",{parentName:"p"},"Description:")," subscribe to order_filled_partially events"),(0,o.kt)("p",null,(0,o.kt)("strong",{parentName:"p"},"Arguments:")),(0,o.kt)("ul",null,(0,o.kt)("li",{parentName:"ul"},"[0]"," cb: (data: OrderFilledPartiallyEvent) => void")),(0,o.kt)("p",null,(0,o.kt)("strong",{parentName:"p"},"Example:")),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-typescript"},"import {WebSocketApi, NetworkEnum} from '@1inch/fusion-sdk'\n\nconst ws = new WebSocketApi({\n    url: 'wss://fusion.1inch.io/ws',\n    network: NetworkEnum.ETHEREUM\n})\n\nws.order.onOrderFilledPartially((data) => {\n    // do something\n})\n")),(0,o.kt)("p",null,(0,o.kt)("strong",{parentName:"p"},"Rpc namespace")),(0,o.kt)("h3",{id:"onpong"},"onPong"),(0,o.kt)("p",null,(0,o.kt)("strong",{parentName:"p"},"Description:")," subscribe to ping response"),(0,o.kt)("p",null,(0,o.kt)("strong",{parentName:"p"},"Arguments:")),(0,o.kt)("ul",null,(0,o.kt)("li",{parentName:"ul"},"[0]"," cb: (data: string) => void")),(0,o.kt)("p",null,(0,o.kt)("strong",{parentName:"p"},"Example:")),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-typescript"},"import {WebSocketApi, NetworkEnum} from '@1inch/fusion-sdk'\n\nconst ws = new WebSocketApi({\n    url: 'wss://fusion.1inch.io/ws',\n    network: NetworkEnum.ETHEREUM\n})\n\nws.rpc.onPong((data) => {\n    // do something\n})\n")),(0,o.kt)("h3",{id:"ping"},"ping"),(0,o.kt)("p",null,(0,o.kt)("strong",{parentName:"p"},"Description:")," ping healthcheck"),(0,o.kt)("p",null,(0,o.kt)("strong",{parentName:"p"},"Example:")),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-typescript"},"import {WebSocketApi, NetworkEnum} from '@1inch/fusion-sdk'\n\nconst ws = new WebSocketApi({\n    url: 'wss://fusion.1inch.io/ws',\n    network: NetworkEnum.ETHEREUM\n})\n\nws.rpc.ping()\n")),(0,o.kt)("h3",{id:"getallowedmethods"},"getAllowedMethods"),(0,o.kt)("p",null,(0,o.kt)("strong",{parentName:"p"},"Description:")," get the list of allowed methods"),(0,o.kt)("p",null,(0,o.kt)("strong",{parentName:"p"},"Example:")),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-typescript"},"import {WebSocketApi, NetworkEnum} from '@1inch/fusion-sdk'\n\nconst ws = new WebSocketApi({\n    url: 'wss://fusion.1inch.io/ws',\n    network: NetworkEnum.ETHEREUM\n})\n\nws.rpc.getAllowedMethods()\n")),(0,o.kt)("h3",{id:"ongetallowedmethods"},"onGetAllowedMethods"),(0,o.kt)("p",null,(0,o.kt)("strong",{parentName:"p"},"Description:")," subscribe to get allowed methods response"),(0,o.kt)("p",null,(0,o.kt)("strong",{parentName:"p"},"Arguments:")),(0,o.kt)("ul",null,(0,o.kt)("li",{parentName:"ul"},"[0]"," cb: (data: RpcMethod[]) => void")),(0,o.kt)("p",null,(0,o.kt)("strong",{parentName:"p"},"Example:")),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-typescript"},"import {WebSocketApi, NetworkEnum} from '@1inch/fusion-sdk'\n\nconst ws = new WebSocketApi({\n    url: 'wss://fusion.1inch.io/ws',\n    network: NetworkEnum.ETHEREUM\n})\n\nws.rpc.onGetAllowedMethods((data) => {\n    // do something\n})\n")),(0,o.kt)("h3",{id:"getactiveorders"},"getActiveOrders"),(0,o.kt)("p",null,(0,o.kt)("strong",{parentName:"p"},"Description:")," get the list of active orders"),(0,o.kt)("p",null,(0,o.kt)("strong",{parentName:"p"},"Example:")),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-typescript"},"import {WebSocketApi, NetworkEnum} from '@1inch/fusion-sdk'\n\nconst ws = new WebSocketApi({\n    url: 'wss://fusion.1inch.io/ws',\n    network: NetworkEnum.ETHEREUM\n})\n\nws.rpc.getActiveOrders()\n")),(0,o.kt)("h3",{id:"ongetactiveorders"},"onGetActiveOrders"),(0,o.kt)("p",null,(0,o.kt)("strong",{parentName:"p"},"Description:")," subscribe to get active orders events"),(0,o.kt)("p",null,(0,o.kt)("strong",{parentName:"p"},"Arguments:")),(0,o.kt)("ul",null,(0,o.kt)("li",{parentName:"ul"},"[0]"," cb: (data: PaginationOutput\\<ActiveOrder",">",") => void")),(0,o.kt)("p",null,(0,o.kt)("strong",{parentName:"p"},"Example:")),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-typescript"},"import {WebSocketApi, NetworkEnum} from '@1inch/fusion-sdk'\n\nconst ws = new WebSocketApi({\n    url: 'wss://fusion.1inch.io/ws',\n    network: NetworkEnum.ETHEREUM\n})\n\nws.rpc.onGetActiveOrders((data) => {\n    // do something\n})\n")),(0,o.kt)("h2",{id:"types"},"Types"),(0,o.kt)("h3",{id:"ordereventtype"},"OrderEventType"),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-typescript"},"type Event<K extends string, T> = {event: K; data: T}\n\ntype OrderEventType =\n    | OrderCreatedEvent\n    | OrderInvalidEvent\n    | OrderBalanceOrAllowanceChangeEvent\n    | OrderFilledEvent\n    | OrderFilledPartiallyEvent\n\ntype OrderCreatedEvent = Event<\n    'order_created',\n    {\n        orderHash: string\n        signature: string\n        order: LimitOrderV3Struct\n        deadline: string\n        auctionStartDate: string\n        auctionEndDate: string\n        remainingMakerAmount: string\n    }\n>\n\ntype OrderBalanceOrAllowanceChangeEvent = Event<\n    'order_balance_or_allowance_change',\n    {\n        orderHash: string\n        remainingMakerAmount: string\n        balance: string\n        allowance: string\n    }\n>\n\ntype OrderInvalidEvent = Event<\n    'order_invalid',\n    {\n        orderHash: string\n    }\n>\n\ntype OrderFilledEvent = Event<'order_filled', {orderHash: string}>\n\ntype OrderFilledPartiallyEvent = Event<\n    'order_filled_partially',\n    {orderHash: string; remainingMakerAmount: string}\n>\n")),(0,o.kt)("h3",{id:"rpcmethod"},"RpcMethod"),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-typescript"},"type RpcMethod = 'getAllowedMethods' | 'ping'\n")))}k.isMDXComponent=!0}}]);